<!DOCTYPE html>
<html lang="nl">
<head>
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/nameboxes.css">
  <title>Camera and QR Code Scanner</title>
  <script src="js/main.js"></script>
  <script src="js/nameboxes.js" defer></script>
  <script src="js/buttonclick.js" defer></script>
  <script src="js/timebar.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script>
    localStorage.setItem('nukeklaar', "0");
    localStorage.setItem('bomklaar', "0");
    setTimeout(function (){
      bomActive = "0";
      localStorage.setItem('bom', JSON.stringify(bomActive));
    } , 10000);
  </script>
</head>

<body>

<div class="main">
  <div class="header" id="header">
    <div class="button-container">
      <a href="menu.html" class="menu">
        <i class="fas fa-bars"></i>
      </a>
      <h1>Adjust your video screen:</h1>
    </div>
    <div class="slider">
      <div class="slider-handle"></div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var slider = document.querySelector('.slider');
        var handle = document.querySelector('.slider-handle');
        var isDragging = false;

        var startEvent = 'mousedown';
        var moveEvent = 'mousemove';
        var endEvent = 'mouseup';

        if ('ontouchstart' in window || navigator.msMaxTouchPoints) {
          startEvent = 'touchstart';
          moveEvent = 'touchmove';
          endEvent = 'touchend';
        }

        handle.addEventListener(startEvent, function() {
          isDragging = true;
          handle.style.cursor = 'grabbing';
        });

        handle.addEventListener(endEvent, function() {
          isDragging = false;
          handle.style.cursor = 'grab';
        });
        handle.style.left = slider.offsetWidth - handle.offsetWidth + 80 + 'px';

        slider.addEventListener(moveEvent, function(e) {
          if (isDragging) {
            var sliderWidth = slider.offsetWidth;
            var handleWidth = handle.offsetWidth;
            var maxX = sliderWidth - handleWidth + 80;
            var clientX = e.clientX || e.touches[0].clientX;
            var newX = Math.min(Math.max(clientX - slider.offsetLeft, 0), maxX);
            handle.style.left = newX + 'px';
            var handlePosition = newX / maxX;
            var scanner = document.querySelector('.scanner');
            scanner.style.height = (handlePosition * window.screen.availHeight*1.8) + 350 + 'px'; // Adjust the multiplier as per your requirement
          }
        });
      });
    </script>
  </div>
  <div class="scanner">
    <div style="width:800px" id="reader"></div>
    <script type="text/javascript">
      function onScanSuccess(qrCodeMessage) {
        //document.getElementById('result').innerHTML = '<span class="result">'+qrCodeMessage+'</span>';
        //Do something if scanned met parameter qrCodeMessage!
        scanned(qrCodeMessage);
      }

      function onScanError(errorMessage) {
        //handle scan error
      }

      var html5QrcodeScanner = new Html5QrcodeScanner(
        "reader", { fps: 10, qrbox: 500 });
      html5QrcodeScanner.render(onScanSuccess, onScanError);
    </script>
  </div>
  <div class="score" id="score">
    <div id="timer-bar-container">
      <div id="timer-bar"></div>
    </div>
    <div id="result">Score: 0</div>
    <div class="container">
      <div class="row">
        <div class="box" id="0">Kleur 1</div>
        <div class="box" id="1">Kleur 2</div>
        <div class="box" id="2">Kleur 3</div>
      </div>
      <div class="row">
        <div class="box" id="3">Tisse</div>
        <div class="box" id="4">Seymens</div>
        <div class="box" id="5">LL</div>
      </div>
      <div class="row">
        <div class="box" id="6">Bavo</div>
        <div class="box" id="7">Daan</div>
        <div class="box" id="8">Greg</div>
      </div>
      <div class="row">
        <div class="box" id="9">Drets</div>
        <div class="box" id="10">Obe</div>
        <div class="box" id="11">Thiess</div>
      </div>
      <div class="row">
        <div class="box" id="12">Scev</div>
        <div class="box" id="13">Simi</div>
        <div class="box" id="14">Thibo</div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
